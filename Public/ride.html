<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Go Anywhere with VUNA-Drive</title>
    <!-- Bootstrap 5 CSS -->
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css" />
    <style>
      body {
        background-color: #f4f4f4;
        margin: 0;
        padding: 20px;
        height: 100vh;
        background-image: url("Images/VeritasLandscape.jpg");
        background-size: cover;
      }

      h1 {
        font-size: 24px;
        font-weight: bold;
        text-align: center;
        margin-bottom: 20px;
      }

      .btn-primary {
        width: 100%;
        padding: 10px;
        font-size: 16px;
      }

      .map-container {
        height: 100%;
        border-radius: 10px;
        overflow: hidden;
      }

      iframe {
        width: 100%;
        height: 100%;
        border: 0;
      }
    </style>
  </head>
  <body class="row m-0">
    <!-- Form Section -->
    <div class="col-md-6 vh-100 position-relative">
      <div
        class="card p-4 w-75 position-absolute top-50 start-50 translate-middle"
      >
        <div class="d-flex justify-content-center">
          <img src="Images/DriveLogo.jpg" alt="" />
        </div>
        <h1>Ride with VUNA-Drive</h1>

        <!-- Pickup Location -->
        <div class="mb-3">
          <label for="pickup" class="form-label">Pickup location</label>
          <select name="Pick Up" class="form-select" id="pickup">
            <option selected>Select your Pick Up</option>
          </select>
        </div>

        <!-- Dropoff Location -->
        <div class="mb-3">
          <label for="dropoff" class="form-label">Dropoff location</label>
          <select name="Drop Off" class="form-select" id="dropoff">
            <option selected>Select your Drop Off</option>
          </select>
        </div>

        <!-- See Prices Button -->
        <button class="btn btn-primary">Book Now</button>
      </div>
    </div>

    <!-- Map Section -->
    <div class="col-md-6 vh-100 position-relative m-0">
      <div
        class="card w-75 h-75 position-absolute top-50 start-50 translate-middle"
      >
        <!-- Google Maps Embed API -->
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2464.5466016648797!2d7.4160305062487!3d9.288933069185422!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x104e0bfaa64afab3%3A0xf8088b575d0eec30!2sVeritas%20University%20Abuja!5e0!3m2!1sen!2sng!4v1738179178305!5m2!1sen!2sng"
          width="600"
          height="450"
          style="border: 0"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
        ></iframe>
      </div>
    </div>

    <script src="bootstrap/js/bootstrap.bundle.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        fetch('/rides/destinations')
          .then(response => response.json())
          .then(destinations => {
            const pickupSelect = document.getElementById('pickup');
            const dropoffSelect = document.getElementById('dropoff');
            destinations.forEach(destination => {
              const option = document.createElement('option');
              option.value = destination._id;
              option.textContent = destination.name;
              pickupSelect.appendChild(option.cloneNode(true));
              dropoffSelect.appendChild(option);
            });
          })
          .catch(error => console.error('Error fetching destinations:', error));
      });
    </script>
  </body>
</html>
